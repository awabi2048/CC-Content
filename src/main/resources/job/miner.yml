# 鉱夫のスキルツリー定義
skills:
  settings:
    level:
      initialExp: 10
      base: 1.2
      maxLevel: 50
    overviewIcon: "DIAMOND_PICKAXE"

  skill0:
    requiredLevel: 0
    icon: "WOODEN_PICKAXE"
    children: ["speed_1"]

  speed_1:
    requiredLevel: 5
    icon: "IRON_PICKAXE"
    effect:
      type: "collect.break_speed_boost"
      combineRule: "add"
      params:
        efficiency_level: 1
        targetTools: ["PICKAXE"]
    children: ["fortune_1"]

  fortune_1:
    requiredLevel: 10
    icon: "GOLDEN_PICKAXE"
    effect:
      type: "collect.drop_bonus"
      combineRule: "add"
      params:
        fortune_level: 1
    children: ["speed_2", "fortune_2"]

  speed_2:
    requiredLevel: 15
    icon: "IRON_PICKAXE"
    effect:
      type: "collect.break_speed_boost"
      combineRule: "add"
      params:
        efficiency_level: 1
        targetBlocks: ["STONE", "COBBLESTONE", "DEEPSLATE"]
        targetTools: ["PICKAXE"]
    children: ["durability_1"]

  fortune_2:
    requiredLevel: 15
    icon: "GOLDEN_PICKAXE"
    effect:
      type: "collect.drop_bonus"
      combineRule: "add"
      params:
        fortune_level: 1
    children: ["fortune_3"]

  durability_1:
    requiredLevel: 20
    icon: "DIAMOND_PICKAXE"
    effect:
      type: "collect.durability_save_chance"
      params:
        unbreaking_level: 1
    children: ["mineall_1"]

  fortune_3:
    requiredLevel: 20
    icon: "GOLDEN_PICKAXE"
    effect:
      type: "collect.drop_bonus"
      combineRule: "add"
      params:
        fortune_level: 1
    children: ["mineall_1"]

  mineall_1:
    requiredLevel: 30
    icon: "TEST_BLOCK"
    effect:
      type: "collect.unlock_batch_break"
      params:
        mode: "mine_all"
        maxChainCount: 8
        delayTicks: 3
        instantBreak: false
        autoCollect: false
        visualizeTargets: true
        matchLevel: "FAMILY"
    children: ["mineall_2", "blastmine_1"]

  mineall_2:
    requiredLevel: 40
    icon: "TEST_BLOCK"
    effect:
      type: "collect.unlock_batch_break"
      params:
        mode: "mine_all"
        maxChainCount: 16
        delayTicks: 2
        instantBreak: false
        autoCollect: true
        visualizeTargets: true
        matchLevel: "FAMILY"
    children: ["mineall_3"]

  mineall_3:
    requiredLevel: 50
    icon: "TEST_BLOCK"
    effect:
      type: "collect.unlock_batch_break"
      params:
        mode: "mine_all"
        maxChainCount: 24
        delayTicks: 3
        instantBreak: true
        autoCollect: true
        visualizeTargets: true
        matchLevel: "FAMILY"
    children: []

  blastmine_1:
    requiredLevel: 40
    icon: "TNT"
    effect:
      type: "collect.blast_mine"
      params:
        radius: 2
        autoCollect: false
        lossRate: 0.5
        targetTools: ["PICKAXE"]
    children: ["blastmine_2"]

  blastmine_2:
    requiredLevel: 50
    icon: "TNT_MINECART"
    effect:
      type: "collect.blast_mine"
      params:
        radius: 3
        autoCollect: true
        lossRate: 0.3
        targetTools: ["PICKAXE"]
    children: []
